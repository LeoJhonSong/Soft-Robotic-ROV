digraph G {

  subgraph cluster_0 {
    node [style=filled;]
    a[label="全速下潜"]
    b[label="以视野内置信度最高的为目标,\n前后或左右移动使目标中心在阈值框内"]
    b -> a[label="目标中心在阈值框内"]
    label = "移动至适当位置坐底";
    color=blue
  }
  subgraph cluster_1 {
    node [style=filled]
    c[label="路径规划\n因为摄像头向前的视野不够多,\n路径规划无法依靠视觉,\n只能像扫地机一样遍历"]
    d[label="定深\n因为目标水域水底较为平坦,\n采取上升一段时间后停止上升,\n然后利用ROV自带深度闭环实现定深"]
    d -> c
    l[label="实时检测目标"]
    l -> c[label="视野内无目标"]
    c -> l
    l -> b[label="视野内有目标"]
    b -> c[label="目标丢失"]
    label = "定深巡航";
    color=blue
  }
  subgraph cluster_2 {
    node [style=filled];
    a -> f[label="当深度一定\n时间内波动\n稳定在5cm以内时\n判断为坐底"]
    f -> e[label="是而和\n上一目标\n是不同目标"]
    e[label="给手臂程序传递目标相对位置,\n抓取并放入网框"]
    f[label="识别抓取范围内是否有可抓目标"]
    i[label="判断是否达到抓取\n同一目标次数上限"]
    f -> i[label="是而和\n上一目标\n是同一目标"]
    e-> f
    i -> e[label="未达到抓取次数上限"]
    i -> f[label="是, 更换\n抓取目标"]
    label = "抓取";
    color=blue
  }
  start -> g
  g[label="全速下潜"]
  g -> h[label="当深度一定\n时间内波动\n稳定在5cm以内时\n判断为坐底"]
  h[label="记录此时深度作为海底深度,\n算出气压补偿"]
  h -> d
  f -> d[label="否"]
  e -> d[label="否"]

  start [shape=Mdiamond];
}